<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>libhl: src/rbuf.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libhl
   </div>
   <div id="projectbrief">A collection of C libraries : thread-safe hashtables, thread-safe linklists, lock-free queues, flat buffers, ring buffers, refcounting</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('rbuf_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rbuf.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Ring buffers.  
<a href="#details">More...</a></p>

<p><a href="rbuf_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a32d9bf4c520d92a1189c8b45cddc2fa2"><td class="memItemLeft" align="right" valign="top">typedef struct __rbuf_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a></td></tr>
<tr class="memdesc:a32d9bf4c520d92a1189c8b45cddc2fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque structure representing a ringbuffer handler.  <a href="#a32d9bf4c520d92a1189c8b45cddc2fa2">More...</a><br/></td></tr>
<tr class="separator:a32d9bf4c520d92a1189c8b45cddc2fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a355d9576621841405dc8dd55b2d87c90"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90">rbuf_mode_t</a> { <a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90a9c3b5f9f6385dd0b7b5ec8eb46317b2f">RBUF_MODE_BLOCKING</a> = 0, 
<a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90a44bfcddd683f3e158b38eb347bb38f47">RBUF_MODE_OVERWRITE</a>
 }</td></tr>
<tr class="separator:a355d9576621841405dc8dd55b2d87c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a02662e4f6204e506fd16dfe77a968535"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a02662e4f6204e506fd16dfe77a968535">rbuf_create</a> (int size)</td></tr>
<tr class="memdesc:a02662e4f6204e506fd16dfe77a968535"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new ringbuffer.  <a href="#a02662e4f6204e506fd16dfe77a968535">More...</a><br/></td></tr>
<tr class="separator:a02662e4f6204e506fd16dfe77a968535"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb32b20b3aea070c6059af2dbd6f18e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#afb32b20b3aea070c6059af2dbd6f18e4">rbuf_set_mode</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf, <a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90">rbuf_mode_t</a> mode)</td></tr>
<tr class="separator:afb32b20b3aea070c6059af2dbd6f18e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a3fa41660c0debe32f70f0f2b60ea02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90">rbuf_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a1a3fa41660c0debe32f70f0f2b60ea02">rbuf_mode</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf)</td></tr>
<tr class="separator:a1a3fa41660c0debe32f70f0f2b60ea02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa510fbd22aacea8d66e7198a1a67f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a2fa510fbd22aacea8d66e7198a1a67f7">rbuf_skip</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf, int size)</td></tr>
<tr class="memdesc:a2fa510fbd22aacea8d66e7198a1a67f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip the specified amount of bytes.  <a href="#a2fa510fbd22aacea8d66e7198a1a67f7">More...</a><br/></td></tr>
<tr class="separator:a2fa510fbd22aacea8d66e7198a1a67f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556dae8853404216966e49023df0b38c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a556dae8853404216966e49023df0b38c">rbuf_read</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf, u_char *out, int size)</td></tr>
<tr class="memdesc:a556dae8853404216966e49023df0b38c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the specified amount of bytes from the ringbuffer.  <a href="#a556dae8853404216966e49023df0b38c">More...</a><br/></td></tr>
<tr class="separator:a556dae8853404216966e49023df0b38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab869ffe7fa96bbb2eca9fe7043092c48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#ab869ffe7fa96bbb2eca9fe7043092c48">rbuf_write</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf, u_char *in, int size)</td></tr>
<tr class="memdesc:ab869ffe7fa96bbb2eca9fe7043092c48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the specified amount of bytes into the ringbuffer.  <a href="#ab869ffe7fa96bbb2eca9fe7043092c48">More...</a><br/></td></tr>
<tr class="separator:ab869ffe7fa96bbb2eca9fe7043092c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44889c863deabd4f68b353d91fb1a488"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a44889c863deabd4f68b353d91fb1a488">rbuf_size</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf)</td></tr>
<tr class="memdesc:a44889c863deabd4f68b353d91fb1a488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total size of the ringbuffer (specified at creation time)  <a href="#a44889c863deabd4f68b353d91fb1a488">More...</a><br/></td></tr>
<tr class="separator:a44889c863deabd4f68b353d91fb1a488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2040e26f0a0ee02bf29173291246ea8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#aa2040e26f0a0ee02bf29173291246ea8">rbuf_used</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf)</td></tr>
<tr class="memdesc:aa2040e26f0a0ee02bf29173291246ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of bytes stored into the ringbuffer and available for reading.  <a href="#aa2040e26f0a0ee02bf29173291246ea8">More...</a><br/></td></tr>
<tr class="separator:aa2040e26f0a0ee02bf29173291246ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a5db54b73b4dfe60ab3f9198138bb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#ad0a5db54b73b4dfe60ab3f9198138bb5">rbuf_available</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf)</td></tr>
<tr class="memdesc:ad0a5db54b73b4dfe60ab3f9198138bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the amount of space left in the ringbuffer for writing.  <a href="#ad0a5db54b73b4dfe60ab3f9198138bb5">More...</a><br/></td></tr>
<tr class="separator:ad0a5db54b73b4dfe60ab3f9198138bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13c4b4319906ea70c544da775f1d331"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#af13c4b4319906ea70c544da775f1d331">rbuf_find</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf, u_char octet)</td></tr>
<tr class="memdesc:af13c4b4319906ea70c544da775f1d331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scan the ringbuffer untill the specific byte is found.  <a href="#af13c4b4319906ea70c544da775f1d331">More...</a><br/></td></tr>
<tr class="separator:af13c4b4319906ea70c544da775f1d331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe5935df646bc59d7d10f9c5894fa35"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a2fe5935df646bc59d7d10f9c5894fa35">rbuf_read_until</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf, u_char octet, u_char *out, int maxsize)</td></tr>
<tr class="memdesc:a2fe5935df646bc59d7d10f9c5894fa35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read until a specific byte is found or maxsize is reached.  <a href="#a2fe5935df646bc59d7d10f9c5894fa35">More...</a><br/></td></tr>
<tr class="separator:a2fe5935df646bc59d7d10f9c5894fa35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541648655f096f678fc5fb9e9cc2c897"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a541648655f096f678fc5fb9e9cc2c897">rbuf_move</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *src, <a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *dst, int len)</td></tr>
<tr class="separator:a541648655f096f678fc5fb9e9cc2c897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa204cf18c3e8682e519796b405d92630"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#aa204cf18c3e8682e519796b405d92630">rbuf_copy</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *src, <a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *dst, int len)</td></tr>
<tr class="separator:aa204cf18c3e8682e519796b405d92630"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3f4a03599fdcdaf39db675724f9367"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a8e3f4a03599fdcdaf39db675724f9367">rbuf_clear</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf)</td></tr>
<tr class="memdesc:a8e3f4a03599fdcdaf39db675724f9367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the ringbuffer by eventually skipping all the unread bytes (if any)  <a href="#a8e3f4a03599fdcdaf39db675724f9367">More...</a><br/></td></tr>
<tr class="separator:a8e3f4a03599fdcdaf39db675724f9367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6707e5910a6230421e6a683f5bb8c6e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rbuf_8h.html#a6707e5910a6230421e6a683f5bb8c6e3">rbuf_destroy</a> (<a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *rbuf)</td></tr>
<tr class="memdesc:a6707e5910a6230421e6a683f5bb8c6e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release all resources associated to the rbuf_t structure.  <a href="#a6707e5910a6230421e6a683f5bb8c6e3">More...</a><br/></td></tr>
<tr class="separator:a6707e5910a6230421e6a683f5bb8c6e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Ring buffers. </p>
<p>Ringbuffer implementation store/access arbitrary binary data</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>allow to register i/o filters to be executed at read/write time</dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a32d9bf4c520d92a1189c8b45cddc2fa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct __rbuf_s <a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opaque structure representing a ringbuffer handler. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a355d9576621841405dc8dd55b2d87c90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90">rbuf_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a355d9576621841405dc8dd55b2d87c90a9c3b5f9f6385dd0b7b5ec8eb46317b2f"></a>RBUF_MODE_BLOCKING</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a355d9576621841405dc8dd55b2d87c90a44bfcddd683f3e158b38eb347bb38f47"></a>RBUF_MODE_OVERWRITE</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a02662e4f6204e506fd16dfe77a968535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a>* rbuf_create </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new ringbuffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>: The size of the ringbuffer (in bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: A pointer to an initialized rbuf_t structure </dd></dl>

</div>
</div>
<a class="anchor" id="afb32b20b3aea070c6059af2dbd6f18e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rbuf_set_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90">rbuf_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a3fa41660c0debe32f70f0f2b60ea02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rbuf_8h.html#a355d9576621841405dc8dd55b2d87c90">rbuf_mode_t</a> rbuf_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fa510fbd22aacea8d66e7198a1a67f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rbuf_skip </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Skip the specified amount of bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
    <tr><td class="paramname">size</td><td>:Tthe number of bytes to skip </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a556dae8853404216966e49023df0b38c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the specified amount of bytes from the ringbuffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
    <tr><td class="paramname">out</td><td>: A valid pointer initialized to store the read data </td></tr>
    <tr><td class="paramname">size</td><td>: The amount of bytes to read and copy to the memory pointed by 'out' </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: The amount of bytes actually read from the ringbuffer </dd></dl>

</div>
</div>
<a class="anchor" id="ab869ffe7fa96bbb2eca9fe7043092c48"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_char *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the specified amount of bytes into the ringbuffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
    <tr><td class="paramname">in</td><td>: A pointer to the data to copy into the ringbuffer </td></tr>
    <tr><td class="paramname">size</td><td>: The amount of bytes to be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: The amount of bytes actually copied into the ringbuffer </dd></dl>
<dl class="section note"><dt>Note</dt><dd>: The ringbuffer may not fit the entire buffer to copy so the returned value might be less than the input 'size'. The caller should check for the returned value and retry writing the remainder once the ringbuffer has been emptied sufficiently </dd></dl>

</div>
</div>
<a class="anchor" id="a44889c863deabd4f68b353d91fb1a488"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_size </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the total size of the ringbuffer (specified at creation time) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the total amount of bytes that can be stored in the rbuf </dd></dl>

</div>
</div>
<a class="anchor" id="aa2040e26f0a0ee02bf29173291246ea8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_used </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of bytes stored into the ringbuffer and available for reading. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the amount of bytes stored into the ringbuffer and available for reading </dd></dl>

</div>
</div>
<a class="anchor" id="ad0a5db54b73b4dfe60ab3f9198138bb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_available </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the amount of space left in the ringbuffer for writing. </p>
<dl class="section note"><dt>Note</dt><dd>equivalent to: <a class="el" href="rbuf_8h.html#a44889c863deabd4f68b353d91fb1a488" title="Returns the total size of the ringbuffer (specified at creation time)">rbuf_size()</a> - <a class="el" href="rbuf_8h.html#aa2040e26f0a0ee02bf29173291246ea8" title="Returns the amount of bytes stored into the ringbuffer and available for reading.">rbuf_used()</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the amount of bytes which is still possible to write into the ringbuffer until some data is consumed by a <a class="el" href="rbuf_8h.html#a556dae8853404216966e49023df0b38c" title="Read the specified amount of bytes from the ringbuffer.">rbuf_read()</a> operation </dd></dl>

</div>
</div>
<a class="anchor" id="af13c4b4319906ea70c544da775f1d331"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_find </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_char&#160;</td>
          <td class="paramname"><em>octet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Scan the ringbuffer untill the specific byte is found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
    <tr><td class="paramname">octet</td><td>: The byte to search into the ringbuffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the offset to the specified byte, -1 if not found </dd></dl>

</div>
</div>
<a class="anchor" id="a2fe5935df646bc59d7d10f9c5894fa35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_read_until </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_char&#160;</td>
          <td class="paramname"><em>octet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_char *&#160;</td>
          <td class="paramname"><em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read until a specific byte is found or maxsize is reached. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
    <tr><td class="paramname">octet</td><td>: The byte to look for before stopping </td></tr>
    <tr><td class="paramname">out</td><td>: A valid pointer initialized to store the read data </td></tr>
    <tr><td class="paramname">maxsize</td><td>: The maximum amount of bytes that can be copied to the memory pointed by 'out' </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>: The amount of bytes actually read from the ringbuffer </dd></dl>

</div>
</div>
<a class="anchor" id="a541648655f096f678fc5fb9e9cc2c897"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_move </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aa204cf18c3e8682e519796b405d92630"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rbuf_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8e3f4a03599fdcdaf39db675724f9367"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rbuf_clear </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear the ringbuffer by eventually skipping all the unread bytes (if any) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6707e5910a6230421e6a683f5bb8c6e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rbuf_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="rbuf_8h.html#a32d9bf4c520d92a1189c8b45cddc2fa2">rbuf_t</a> *&#160;</td>
          <td class="paramname"><em>rbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release all resources associated to the rbuf_t structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rbuf</td><td>: A valid pointer to a rbuf_t structure </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="rbuf_8h.html">rbuf.h</a></li>
    <li class="footer">Generated on Thu Apr 17 2014 15:57:42 for libhl by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
